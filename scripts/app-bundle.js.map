{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/resources/index.js","src/services/user-service.js","src/components/user/user-list.js","src/components/user/user-registration.js"],"names":["App","message","debug","testing","webApiUrl","webApiUsersPath","configure","aurelia","use","standardConfiguration","feature","plugin","developmentLogging","start","then","setRoot","config","UserService","restClient","getUsers","pageNumber","pageSize","createRequest","asGet","withBaseUrl","withTimeout","send","getUser","id","postUser","user","asPost","withContent","UserList","userService","users","error","isWorking","created","updateUserList","page","size","JSON","parse","userResponse","response","title","description","UserRegistration","of","validationController","firstName","lastName","email","password","success","serverError","validateTrigger","manual","ensure","required","withMessage","minLength","on","register","setTimeout","validate","validation","valid","failureMessage","failure"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  constructor() {\n    this.message = 'Hello World!';\n  }\n}\n","export default {\n  debug: true,\n  testing: true,\n  webApiUrl: 'http://weframers-franolea.rhcloud.com',\n  webApiUsersPath: 'users'\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-validation');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {HttpClient} from 'aurelia-http-client';\r\nimport environment from '../environment';\r\n\r\nexport class UserService {\r\n    constructor() {\r\n        this.restClient = new HttpClient();\r\n    }\r\n\r\n    getUsers() {\r\n        return getUsers(0, 10);\r\n    }\r\n\r\n    getUsers(pageNumber, pageSize) {\r\n        return this.restClient.createRequest(environment.webApiUsersPath)\r\n                .asGet()\r\n                .withBaseUrl(environment.webApiUrl)\r\n                .withTimeout(5000)\r\n                .send()\r\n    }\r\n\r\n    getUser(id) {\r\n        return this.restClient.createRequest(environment.webApiUsersPath + `/${id}`)\r\n                .asGet()\r\n                .withBaseUrl(environment.webApiUrl)\r\n                .withTimeout(2000)\r\n                .send()\r\n    }\r\n\r\n    postUser(user) {\r\n        return this.restClient.createRequest(environment.webApiUsersPath)\r\n                .asPost()\r\n                .withBaseUrl(environment.webApiUrl)\r\n                .withContent(user)\r\n                .withTimeout(3000)\r\n                .send()\r\n    }\r\n\r\n}","import {inject} from 'aurelia-framework';\r\nimport {UserService} from '../../services/user-service';\r\n\r\n@inject(UserService)\r\nexport class UserList {\r\n    constructor(userService) {\r\n        this.userService = userService;\r\n        this.users = [];\r\n        this.error = {};\r\n        this.isWorking = false;\r\n    }\r\n\r\n    created() {\r\n        this.updateUserList(0, 10);\r\n    }\r\n\r\n    updateUserList(page, size) {\r\n        this.isWorking = true;\r\n        this.userService.getUsers(page, size)\r\n                .then(\r\n                    userResponse => {\r\n                        this.users = JSON.parse(userResponse.response);\r\n                        this.isWorking = false;\r\n                    }, \r\n                    errorResponse => {\r\n                        this.error.title = 'Ups';\r\n                        this.error.description = 'Parece que el sistema no response, por favor intenta nuevamente mas tarde.';\r\n                        this.isWorking = false;\r\n                    }\r\n                );\r\n    }\r\n\r\n}","import {inject, NewInstance} from 'aurelia-framework';\r\nimport {ValidationController, validateTrigger, ValidationRules} from 'aurelia-validation';\r\nimport {UserService} from '../../services/user-service';\r\n\r\n@inject(UserService,NewInstance.of(ValidationController))\r\nexport class UserRegistration {\r\n    \r\n    firstName = '';\r\n    lastName = '';\r\n    email = '';\r\n    password = '';\r\n\r\n    constructor(userService, validationController) {\r\n        this.userService = userService;\r\n        this.validationController = validationController;\r\n        this.isWorking = false;\r\n        this.success = false;\r\n        this.serverError = {};\r\n    }\r\n\r\n    created() {\r\n        this.validationController.validateTrigger = validateTrigger.manual;\r\n\r\n        ValidationRules\r\n            .ensure(\"firstName\").required().withMessage(\"El nombre no puede estar vacio.\")\r\n            .ensure(\"lastName\").required().withMessage(\"El apellido no puede estar vacio.\")\r\n            .ensure(\"email\").email().required().withMessage(\"El email no es valido, por favor ingrese un email valido.\")\r\n            .ensure(\"password\").minLength(8).required().withMessage(\"La contraseÃ±a debe tener al menos 8 caracteres\")\r\n            .on(this);\r\n    }\r\n\r\n    register() {\r\n        this.success = false;\r\n        this.isWorking = true;\r\n\r\n        var user = { \r\n            firstName: this.firstName,\r\n            lastName: this.lastName,\r\n            email: this.email, \r\n            password: this.password\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.validationController.validate()\r\n                .then((validation) => {\r\n                    if(validation.valid) {\r\n                        this.success = true;\r\n                    }\r\n                }).then(() => this.isWorking = false);\r\n        }, 1000);\r\n    }\r\n\r\n    postUser(user) {\r\n        this.userService.postUser(user).then(\r\n            () => {\r\n                this.success = true;\r\n            },\r\n            failure => {\r\n                var failureMessage = JSON.parse(failure.response);\r\n                this.serverError = {\r\n                    title: failureMessage.title,\r\n                    description: failureMessage.description\r\n                };\r\n            }\r\n        ).then(() => this.isWorking = false);\r\n    }\r\n\r\n}"],"sourceRoot":".."}